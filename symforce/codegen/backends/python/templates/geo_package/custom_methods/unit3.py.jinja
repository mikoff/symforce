{# ----------------------------------------------------------------------------
 # SymForce - Copyright 2022, Skydio, Inc.
 # This source code is under the Apache 2.0 license found in the LICENSE file.
 # ---------------------------------------------------------------------------- #}
{%- import "../../util/util.jinja" as util with context -%}

    {# Handwritten methods for Unit3 #}
    {# These will get included into the autogenerated class header. #}
    def __init__(self, vec):
        # type: (T.Union[T.Sequence[float], numpy.ndarray]) -> None
        {{ util.flatten_if_ndarray("vec", 3) | indent(width=8) }}
        self.data = list(vec) # type: T.List[float]

    @classmethod
    def random(cls, epsilon=1e-8):
        # type: (float) -> Unit3
        """
        Return a random :class:`Unit3` object
        """
        u1 = random.uniform(0, 1)
        u2 = random.uniform(0, 1)
        return Unit3.random_from_uniform_samples(u1, u2, epsilon=epsilon)
